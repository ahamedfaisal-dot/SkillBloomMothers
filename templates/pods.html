<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Pods - SkillBloom</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FFB6C1 0%, #FFC0CB 100%);
            min-height: 100vh;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .sidebar-header h2 {
            color: #DB7093;
            margin-bottom: 30px;
            font-size: 24px;
            font-weight: bold;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-menu li {
            margin-bottom: 10px;
        }

        .nav-menu a {
            display: block;
            padding: 12px 15px;
            color: #333;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .nav-menu a:hover, .nav-menu a.active {
            background: #DB7093;
            color: white;
        }

        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .page-header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .page-header h1 {
            color: #333;
            margin-bottom: 10px;
        }

        .page-header p {
            color: #666;
        }

        .filter-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-tab {
            padding: 10px 20px;
            background: white;
            border: 2px solid #DB7093;
            color: #DB7093;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .filter-tab.active {
            background: #DB7093;
            color: white;
        }

        .pods-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .pod-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .pod-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .pod-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .pod-icon-large {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #DB7093 0%, #FFB6C1 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .pod-card h3 {
            color: #333;
            font-size: 20px;
        }

        .pod-card p {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .pod-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .badge-skill { background: #FFE4E1; color: #DB7093; }
        .badge-company { background: #FFF0F5; color: #C71585; }
        .badge-wellness { background: #F0FFF0; color: #98FB98; }
        .badge-personal { background: #FFF5EE; color: #FF69B4; }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #DB7093 0%, #FFB6C1 100%);
            transition: width 0.3s;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
        }

        .btn-primary {
            background: #DB7093;
            color: white;
        }

        .btn-primary:hover {
            background: #C76384;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            margin: 50px auto;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 900px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: 25px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            color: #333;
            font-size: 24px;
        }

        .close {
            font-size: 28px;
            font-weight: bold;
            color: #999;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: #333;
        }

        .pod-modal-body {
            padding: 30px;
            max-height: 70vh;
            overflow-y: auto;
        }

        .learning-path {
            margin-bottom: 30px;
        }

        .learning-path h4 {
            color: #DB7093;
            margin-bottom: 20px;
            font-size: 20px;
        }

        .learning-item {
            background: #FFF5F5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #DB7093;
        }

        .learning-item.completed {
            background: #e8f5e9;
            border-left-color: #4caf50;
        }

        .learning-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .learning-item h5 {
            color: #333;
            font-size: 16px;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-completed {
            background: #4caf50;
            color: white;
        }

        .status-pending {
            background: #ff9800;
            color: white;
        }

        .video-container {
            margin: 15px 0;
        }

        .video-embed {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 10px;
        }

        .video-embed iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }

        .btn-success {
            background: #4caf50;
            color: white;
        }

        .btn-success:hover {
            background: #45a049;
        }

        .btn-secondary {
            background: #757575;
            color: white;
        }

        .btn-secondary:hover {
            background: #616161;
        }

        .assessment-section {
            margin-top: 30px;
            padding: 20px;
            background: #f0f4ff;
            border-radius: 10px;
        }

        .assessment-section h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .quiz-question {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .quiz-options {
            margin-top: 15px;
        }

        .quiz-option {
            padding: 12px;
            margin: 8px 0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            border-color: #667eea;
            background: #f8f9fa;
        }

        .quiz-option.selected {
            border-color: #667eea;
            background: #e3f2fd;
        }

        .quiz-option.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .quiz-option.incorrect {
            border-color: #f44336;
            background: #ffebee;
        }

        .challenge-section {
            margin-top: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .challenge-btn {
            flex: 1;
            min-width: 200px;
            padding: 15px;
            background: linear-gradient(135deg, #DB7093 0%, #FFB6C1 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.3s;
        }

        .challenge-btn:hover {
            transform: scale(1.05);
        }

        .challenge-btn.aptitude {
            background: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%);
        }

        .challenge-btn.coding {
            background: linear-gradient(135deg, #DDA0DD 0%, #DA70D6 100%);
        }

        .coding-editor {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }

        .coding-problem {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .coding-problem h5 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .coding-problem pre {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
        }

        .test-cases {
            margin-top: 15px;
        }

        .test-case {
            background: white;
            padding: 10px;
            border-left: 3px solid #667eea;
            margin: 10px 0;
        }

        .timer {
            display: inline-block;
            padding: 10px 20px;
            background: #ff9800;
            color: white;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        textarea.code-input {
            width: 100%;
            min-height: 200px;
            background: #263238;
            color: #aed581;
            border: 2px solid #455a64;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
        }

        .result-panel {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .result-panel.error {
            background: #ffebee;
            border-left-color: #f44336;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>SkillBloom</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="/dashboard">Dashboard</a></li>
                <li><a href="/assessment">Assessment</a></li>
                <li><a href="/pods" class="active">My Pods</a></li>
                <li><a href="/baby-monitor">Baby Monitor</a></li>
                <li><a href="/ai-mentor">AI Mentor</a></li>
                <li><a href="/logout" id="logoutLink">Logout</a></li>
            </ul>
        </nav>

        <main class="main-content">
            <header class="page-header">
                <h1>My Learning Pods</h1>
                <p>Your personalized growth modules across skills, career, wellness, and more</p>
            </header>

            <div class="filter-tabs">
                <div class="filter-tab active" data-filter="all">All Pods</div>
                <div class="filter-tab" data-filter="skill">Skill Pods</div>
                <div class="filter-tab" data-filter="company">Company Pods</div>
                <div class="filter-tab" data-filter="wellness">Wellness Pods</div>
                <div class="filter-tab" data-filter="personal">Personal Growth</div>
            </div>

            <div class="pods-grid" id="podsGrid">
                <!-- Pods will be dynamically loaded here -->
            </div>
        </main>
    </div>

    <div id="podModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Pod Details</h3>
                <span class="close">&times;</span>
            </div>
            <div id="modalBody" class="pod-modal-body"></div>
        </div>
    </div>

    <script>
        // Pod Data Structure
        const podsData = {
            skill: [
                {
                    id: 'fullstack',
                    name: 'Fullstack Pod',
                    description: 'Web development path: front-end, back-end and deployment',
                    progress: 45,
                    learningMap: [
                        {
                            title: 'HTML & CSS Fundamentals',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'UB1O30fR-EE',
                            videoTitle: 'HTML & CSS Crash Course'
                        },
                        {
                            title: 'JavaScript Basics',
                            duration: '3 weeks',
                            completed: true,
                            videoId: 'PkZNo7MFNFg',
                            videoTitle: 'JavaScript Tutorial'
                        },
                        {
                            title: 'React Framework',
                            duration: '4 weeks',
                            completed: false,
                            videoId: 'SqcY0GlETPg',
                            videoTitle: 'React Tutorial for Beginners'
                        },
                        {
                            title: 'Node.js & Express',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'Oe421EPjeBE',
                            videoTitle: 'Node.js Tutorial'
                        },
                        {
                            title: 'Database Management',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'HXV3zeQKqGY',
                            videoTitle: 'SQL Tutorial'
                        }
                    ]
                },
                {
                    id: 'vlsi',
                    name: 'VLSI Pod',
                    description: 'Chip design and verification learning path',
                    progress: 20,
                    learningMap: [
                        {
                            title: 'Digital Logic Design',
                            duration: '3 weeks',
                            completed: true,
                            videoId: 'M0Mx8G8xNwI',
                            videoTitle: 'Digital Electronics Basics'
                        },
                        {
                            title: 'Verilog HDL',
                            duration: '4 weeks',
                            completed: false,
                            videoId: 'PJGvZSlsLKs',
                            videoTitle: 'Verilog Tutorial'
                        },
                        {
                            title: 'CMOS Technology',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'OwS9aTE2Go4',
                            videoTitle: 'CMOS Design'
                        }
                    ]
                },
                {
                    id: 'datascience',
                    name: 'Data Science Pod',
                    description: 'Data analysis, visualization and modeling path',
                    progress: 60,
                    learningMap: [
                        {
                            title: 'Python for Data Science',
                            duration: '3 weeks',
                            completed: true,
                            videoId: '_uQrJ0TkZlc',
                            videoTitle: 'Python Data Science Tutorial'
                        },
                        {
                            title: 'Data Visualization',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'DAQNHzOcO5A',
                            videoTitle: 'Matplotlib & Seaborn Tutorial'
                        },
                        {
                            title: 'Machine Learning Basics',
                            duration: '4 weeks',
                            completed: false,
                            videoId: 'ukzFI9rgwfU',
                            videoTitle: 'Machine Learning Tutorial'
                        }
                    ]
                },
                {
                    id: 'cloud',
                    name: 'Cloud Engineer Pod',
                    description: 'Cloud platforms, containers and DevOps fundamentals',
                    progress: 30,
                    learningMap: [
                        {
                            title: 'Cloud Computing Basics',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'M988_fsOSWo',
                            videoTitle: 'Cloud Computing Fundamentals'
                        },
                        {
                            title: 'Docker & Containers',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'fqMOX6JJhGo',
                            videoTitle: 'Docker Tutorial'
                        },
                        {
                            title: 'Kubernetes',
                            duration: '4 weeks',
                            completed: false,
                            videoId: 'X48VuDVv0do',
                            videoTitle: 'Kubernetes Tutorial'
                        }
                    ]
                }
            ],
            company: [
                {
                    id: 'zoho',
                    name: 'Zoho Interview Pod',
                    description: 'Prepare for Zoho interviews - Aptitude, Coding & HR rounds',
                    progress: 25,
                    company: 'Zoho Corporation',
                    learningMap: [
                        {
                            title: 'Zoho Company Overview',
                            duration: '3 days',
                            completed: true,
                            videoId: 'zKw8VTbgPZY',
                            videoTitle: 'Zoho Company Introduction'
                        },
                        {
                            title: 'Zoho Aptitude Preparation',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'pUrSr_OcFL8',
                            videoTitle: 'Zoho Aptitude Questions'
                        },
                        {
                            title: 'Zoho Coding Round',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'cGsJv9EbCBY',
                            videoTitle: 'Zoho Coding Interview'
                        },
                        {
                            title: 'HR Round Preparation',
                            duration: '1 week',
                            completed: false,
                            videoId: 'KukmClH1KoA',
                            videoTitle: 'Zoho HR Interview Questions'
                        }
                    ]
                },
                {
                    id: 'infosys',
                    name: 'Infosys Interview Pod',
                    description: 'Complete Infosys placement preparation guide',
                    progress: 40,
                    company: 'Infosys Limited',
                    learningMap: [
                        {
                            title: 'Infosys Company Culture',
                            duration: '3 days',
                            completed: true,
                            videoId: 'Ij5v1f1aE3w',
                            videoTitle: 'About Infosys'
                        },
                        {
                            title: 'Infosys Aptitude Test',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'r8YgxZZzvDM',
                            videoTitle: 'Infosys Aptitude Questions'
                        },
                        {
                            title: 'Infosys Coding Assessment',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'kVU3Ejv7rWM',
                            videoTitle: 'Infosys Coding Problems'
                        },
                        {
                            title: 'Technical Interview Prep',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'KYjOD2HvPmo',
                            videoTitle: 'Infosys Technical Interview'
                        }
                    ]
                },
                {
                    id: 'tcs',
                    name: 'TCS Interview Pod',
                    description: 'TCS NQT and interview preparation for mothers returning to work',
                    progress: 30,
                    company: 'Tata Consultancy Services',
                    learningMap: [
                        {
                            title: 'TCS Company Profile',
                            duration: '2 days',
                            completed: true,
                            videoId: '8xMpM3pwP1s',
                            videoTitle: 'TCS Company Overview'
                        },
                        {
                            title: 'TCS NQT Preparation',
                            duration: '3 weeks',
                            completed: false,
                            videoId: '5Tc0s84jdiM',
                            videoTitle: 'TCS NQT Guide'
                        },
                        {
                            title: 'TCS Coding Questions',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'Peq4GCPNC5c',
                            videoTitle: 'TCS Coding Round'
                        },
                        {
                            title: 'Interview Tips for Career Gap',
                            duration: '1 week',
                            completed: false,
                            videoId: 'Ed4MRSt_29E',
                            videoTitle: 'Explaining Career Gap'
                        }
                    ]
                },
                {
                    id: 'wipro',
                    name: 'Wipro Interview Pod',
                    description: 'Wipro WILP and placement preparation',
                    progress: 20,
                    company: 'Wipro Limited',
                    learningMap: [
                        {
                            title: 'Wipro Overview & Values',
                            duration: '2 days',
                            completed: true,
                            videoId: 'DfYA27DG5fI',
                            videoTitle: 'About Wipro'
                        },
                        {
                            title: 'Wipro Aptitude Round',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'xBCXbp4W4lM',
                            videoTitle: 'Wipro Aptitude Test'
                        },
                        {
                            title: 'Wipro Coding Problems',
                            duration: '3 weeks',
                            completed: false,
                            videoId: '0IAPZzGSbME',
                            videoTitle: 'Wipro Coding Questions'
                        },
                        {
                            title: 'Technical Interview Guide',
                            duration: '1 week',
                            completed: false,
                            videoId: 'Yr7uVb4Q8D4',
                            videoTitle: 'Wipro Technical Interview'
                        }
                    ]
                },
                {
                    id: 'accenture',
                    name: 'Accenture Interview Pod',
                    description: 'Accenture interview preparation and assessment tips',
                    progress: 35,
                    company: 'Accenture',
                    learningMap: [
                        {
                            title: 'Accenture Company Insights',
                            duration: '2 days',
                            completed: true,
                            videoId: 'ZPl0jhqDKfU',
                            videoTitle: 'Accenture Overview'
                        },
                        {
                            title: 'Cognitive & Technical Assessment',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'G2CRFnJ2sgs',
                            videoTitle: 'Accenture Assessment'
                        },
                        {
                            title: 'Coding Round Preparation',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'qPNhwJT5CQQ',
                            videoTitle: 'Accenture Coding'
                        },
                        {
                            title: 'Communication Round',
                            duration: '1 week',
                            completed: false,
                            videoId: 'XjKpMTjqyo0',
                            videoTitle: 'Accenture Communication'
                        }
                    ]
                },
                {
                    id: 'cognizant',
                    name: 'Cognizant Interview Pod',
                    description: 'GenC and Cognizant interview preparation',
                    progress: 15,
                    company: 'Cognizant',
                    learningMap: [
                        {
                            title: 'Cognizant Company Culture',
                            duration: '2 days',
                            completed: true,
                            videoId: 'tYG-7T2LVDc',
                            videoTitle: 'About Cognizant'
                        },
                        {
                            title: 'GenC Assessment Guide',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'Lj4xJAbL2Gw',
                            videoTitle: 'Cognizant GenC'
                        },
                        {
                            title: 'Programming Fundamentals',
                            duration: '2 weeks',
                            completed: false,
                            videoId: '4V14G5_CNGg',
                            videoTitle: 'Cognizant Coding'
                        },
                        {
                            title: 'HR Interview Tips',
                            duration: '1 week',
                            completed: false,
                            videoId: 'XLwJSCRgSEw',
                            videoTitle: 'Cognizant HR Round'
                        }
                    ]
                },
                {
                    id: 'capgemini',
                    name: 'Capgemini Interview Pod',
                    description: 'Capgemini recruitment process and preparation',
                    progress: 45,
                    company: 'Capgemini',
                    learningMap: [
                        {
                            title: 'Capgemini Introduction',
                            duration: '2 days',
                            completed: true,
                            videoId: 'RV6RNNiXaUY',
                            videoTitle: 'Capgemini Overview'
                        },
                        {
                            title: 'Aptitude Test Prep',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'SsV5tKS27bk',
                            videoTitle: 'Capgemini Aptitude'
                        },
                        {
                            title: 'Coding Assessment',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'TFTPdDWh8wo',
                            videoTitle: 'Capgemini Coding'
                        },
                        {
                            title: 'Technical Round',
                            duration: '1 week',
                            completed: false,
                            videoId: 'zyD7V3yzYPs',
                            videoTitle: 'Capgemini Technical'
                        }
                    ]
                },
                {
                    id: 'hcl',
                    name: 'HCL Technologies Pod',
                    description: 'HCL interview preparation for all rounds',
                    progress: 50,
                    company: 'HCL Technologies',
                    learningMap: [
                        {
                            title: 'HCL Company Overview',
                            duration: '2 days',
                            completed: true,
                            videoId: 'Kw2HM_aVSiI',
                            videoTitle: 'About HCL'
                        },
                        {
                            title: 'HCL Aptitude Questions',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'JKpZ9sjJshc',
                            videoTitle: 'HCL Aptitude Test'
                        },
                        {
                            title: 'Technical Coding Round',
                            duration: '3 weeks',
                            completed: true,
                            videoId: 'vVMzZv-bIPs',
                            videoTitle: 'HCL Coding Questions'
                        },
                        {
                            title: 'Interview Process Guide',
                            duration: '1 week',
                            completed: false,
                            videoId: 'XG1CJx3vCQs',
                            videoTitle: 'HCL Interview Tips'
                        }
                    ]
                },
                {
                    id: 'techmahindra',
                    name: 'Tech Mahindra Pod',
                    description: 'Tech Mahindra placement preparation',
                    progress: 30,
                    company: 'Tech Mahindra',
                    learningMap: [
                        {
                            title: 'Tech Mahindra Profile',
                            duration: '2 days',
                            completed: true,
                            videoId: 'rQn9Z6TXYCQ',
                            videoTitle: 'Tech Mahindra Overview'
                        },
                        {
                            title: 'Aptitude & Reasoning',
                            duration: '2 weeks',
                            completed: true,
                            videoId: '8MKYqSmZT_s',
                            videoTitle: 'Tech Mahindra Aptitude'
                        },
                        {
                            title: 'Coding Round Practice',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'P7hPOtYf9OM',
                            videoTitle: 'Tech Mahindra Coding'
                        },
                        {
                            title: 'HR Interview Questions',
                            duration: '1 week',
                            completed: false,
                            videoId: 'yP8KeEz3VJk',
                            videoTitle: 'Tech Mahindra HR'
                        }
                    ]
                },
                {
                    id: 'amazon',
                    name: 'Amazon Interview Pod',
                    description: 'Amazon SDE interview preparation and leadership principles',
                    progress: 10,
                    company: 'Amazon',
                    learningMap: [
                        {
                            title: 'Amazon Leadership Principles',
                            duration: '1 week',
                            completed: true,
                            videoId: 'sDpRDqlHiX8',
                            videoTitle: 'Amazon Leadership'
                        },
                        {
                            title: 'Data Structures & Algorithms',
                            duration: '4 weeks',
                            completed: false,
                            videoId: 'RBSGKlAvoiM',
                            videoTitle: 'Amazon DSA'
                        },
                        {
                            title: 'System Design Basics',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'FSR1s2b-l_w',
                            videoTitle: 'System Design'
                        },
                        {
                            title: 'Behavioral Interview',
                            duration: '1 week',
                            completed: false,
                            videoId: '6KhKqjwPQYs',
                            videoTitle: 'Amazon Behavioral'
                        }
                    ]
                }
            ],
            wellness: [
                {
                    id: 'baby-monitoring',
                    name: 'Baby Monitoring Pod',
                    description: 'Track your baby\'s growth, health, and developmental milestones',
                    progress: 70,
                    learningMap: [
                        {
                            title: 'Newborn Care Basics',
                            duration: '1 week',
                            completed: true,
                            videoId: 'pYvf9i19B0I',
                            videoTitle: 'Newborn Baby Care'
                        },
                        {
                            title: 'Baby Nutrition',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'iL-aSdBMb7g',
                            videoTitle: 'Baby Nutrition Guide'
                        },
                        {
                            title: 'Developmental Milestones',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'CSmfmZhwn1c',
                            videoTitle: 'Baby Development Milestones'
                        },
                        {
                            title: 'Sleep Training',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'xwgfJ5p-W_k',
                            videoTitle: 'Baby Sleep Training'
                        }
                    ]
                },
                {
                    id: 'fitness',
                    name: 'Fitness & Wellness Pod',
                    description: 'Physical fitness, nutrition, and mental health',
                    progress: 40,
                    learningMap: [
                        {
                            title: 'Fitness Fundamentals',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'R5pTR8sLeVI',
                            videoTitle: 'Fitness Basics'
                        },
                        {
                            title: 'Nutrition Planning',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'Z5EHg1F3YMI',
                            videoTitle: 'Nutrition Guide'
                        },
                        {
                            title: 'Mental Health Practices',
                            duration: '3 weeks',
                            completed: false,
                            videoId: 'inpok4MKVLM',
                            videoTitle: 'Mental Health Tips'
                        }
                    ]
                }
            ],
            personal: [
                {
                    id: 'communication',
                    name: 'Communication Skills Pod',
                    description: 'Public speaking, writing, and interpersonal communication',
                    progress: 55,
                    learningMap: [
                        {
                            title: 'Public Speaking Basics',
                            duration: '2 weeks',
                            completed: true,
                            videoId: 'Tybwo7Vp_cQ',
                            videoTitle: 'Public Speaking Tutorial'
                        },
                        {
                            title: 'Effective Writing',
                            duration: '3 weeks',
                            completed: true,
                            videoId: 'YW4eMRsI8Q8',
                            videoTitle: 'Writing Skills'
                        },
                        {
                            title: 'Active Listening',
                            duration: '1 week',
                            completed: false,
                            videoId: 'rzsVh8YwZEQ',
                            videoTitle: 'Active Listening Skills'
                        }
                    ]
                },
                {
                    id: 'time-management',
                    name: 'Time Management Pod',
                    description: 'Productivity hacks, goal setting, and work-life balance',
                    progress: 25,
                    learningMap: [
                        {
                            title: 'Productivity Fundamentals',
                            duration: '1 week',
                            completed: true,
                            videoId: 'YGIEpfwmBr0',
                            videoTitle: 'Productivity Tips'
                        },
                        {
                            title: 'Goal Setting Strategies',
                            duration: '2 weeks',
                            completed: false,
                            videoId: 'XpKvs-apvOs',
                            videoTitle: 'Goal Setting'
                        },
                        {
                            title: 'Work-Life Balance',
                            duration: '2 weeks',
                            completed: false,
                            videoId: '_xjOm_5mJos',
                            videoTitle: 'Work-Life Balance'
                        }
                    ]
                }
            ]
        };

        // Assessment Questions
        const assessmentQuestions = {
            fullstack: [
                {
                    question: 'What does HTML stand for?',
                    options: ['Hyper Text Markup Language', 'High Tech Modern Language', 'Home Tool Markup Language', 'Hyperlinks and Text Markup Language'],
                    correct: 0
                },
                {
                    question: 'Which property is used in CSS to change the background color?',
                    options: ['color', 'bgcolor', 'background-color', 'bg-color'],
                    correct: 2
                }
            ],
            vlsi: [
                {
                    question: 'What does VLSI stand for?',
                    options: ['Very Large Scale Integration', 'Virtual Logic System Integration', 'Variable Load System Interface', 'Voltage Level Signal Integration'],
                    correct: 0
                }
            ],
            datascience: [
                {
                    question: 'Which Python library is commonly used for data visualization?',
                    options: ['NumPy', 'Pandas', 'Matplotlib', 'Requests'],
                    correct: 2
                }
            ]
        };

        // Aptitude Questions for Company Pods
        const aptitudeQuestions = {
            zoho: [
                {
                    question: 'If a car travels 60 km in 1.5 hours, what is its average speed?',
                    options: ['30 km/h', '40 km/h', '45 km/h', '50 km/h'],
                    correct: 1
                },
                {
                    question: 'Find the next number in series: 2, 6, 12, 20, 30, ?',
                    options: ['40', '42', '44', '46'],
                    correct: 1
                },
                {
                    question: 'A can complete a work in 10 days, B in 15 days. How many days if they work together?',
                    options: ['5 days', '6 days', '7 days', '8 days'],
                    correct: 1
                }
            ],
            infosys: [
                {
                    question: 'What is 15% of 200?',
                    options: ['20', '25', '30', '35'],
                    correct: 2
                },
                {
                    question: 'If CLOUD is coded as 59374, what is LOUD coded as?',
                    options: ['9374', '5937', '7394', '3794'],
                    correct: 0
                }
            ],
            tcs: [
                {
                    question: 'The sum of three consecutive integers is 54. What is the largest number?',
                    options: ['17', '18', '19', '20'],
                    correct: 2
                },
                {
                    question: 'A train 100m long passes a pole in 10 seconds. What is its speed?',
                    options: ['10 m/s', '20 m/s', '30 m/s', '36 m/s'],
                    correct: 0
                }
            ]
        };

        // Coding Challenges for Company Pods
        const codingChallenges = {
            zoho: {
                title: 'Array Rotation',
                description: 'Write a function to rotate an array to the right by k steps.',
                difficulty: 'Medium',
                timeLimit: '30 minutes',
                problem: `Given an array nums and an integer k, rotate the array to the right by k steps.

Example:
Input: nums = [1,2,3,4,5,6,7], k = 3
Output: [5,6,7,1,2,3,4]

Constraints:
- 1 <= nums.length <= 10^5
- -2^31 <= nums[i] <= 2^31 - 1
- 0 <= k <= 10^5`,
                testCases: [
                    { input: '[1,2,3,4,5,6,7], k=3', output: '[5,6,7,1,2,3,4]' },
                    { input: '[-1,-100,3,99], k=2', output: '[3,99,-1,-100]' }
                ],
                starterCode: `function rotate(nums, k) {
    // Write your code here
    
}`
            },
            infosys: {
                title: 'String Palindrome',
                description: 'Check if a given string is a palindrome (ignoring spaces and case).',
                difficulty: 'Easy',
                timeLimit: '20 minutes',
                problem: `Write a function to check if a string is a palindrome, ignoring spaces, punctuation, and case.

Example:
Input: "A man a plan a canal Panama"
Output: true

Input: "race a car"
Output: false`,
                testCases: [
                    { input: '"racecar"', output: 'true' },
                    { input: '"hello"', output: 'false' }
                ],
                starterCode: `function isPalindrome(str) {
    // Write your code here
    
}`
            },
            tcs: {
                title: 'Find Missing Number',
                description: 'Find the missing number in an array containing n distinct numbers from 0 to n.',
                difficulty: 'Easy',
                timeLimit: '25 minutes',
                problem: `Given an array containing n distinct numbers from 0 to n, find the missing number.

Example:
Input: [3,0,1]
Output: 2

Input: [0,1]
Output: 2

Input: [9,6,4,2,3,5,7,0,1]
Output: 8`,
                testCases: [
                    { input: '[3,0,1]', output: '2' },
                    { input: '[0,1]', output: '2' }
                ],
                starterCode: `function findMissing(nums) {
    // Write your code here
    
}`
            },
            wipro: {
                title: 'Two Sum Problem',
                description: 'Find two numbers in an array that add up to a target value.',
                difficulty: 'Easy',
                timeLimit: '25 minutes',
                problem: `Given an array of integers and a target, return indices of two numbers that add up to target.

Example:
Input: nums = [2,7,11,15], target = 9
Output: [0,1]
Because nums[0] + nums[1] = 2 + 7 = 9`,
                testCases: [
                    { input: 'nums=[2,7,11,15], target=9', output: '[0,1]' },
                    { input: 'nums=[3,2,4], target=6', output: '[1,2]' }
                ],
                starterCode: `function twoSum(nums, target) {
    // Write your code here
    
}`
            },
            amazon: {
                title: 'Reverse Linked List',
                description: 'Reverse a singly linked list.',
                difficulty: 'Medium',
                timeLimit: '30 minutes',
                problem: `Reverse a singly linked list.

Example:
Input: 1->2->3->4->5->NULL
Output: 5->4->3->2->1->NULL`,
                testCases: [
                    { input: '1->2->3->4->5', output: '5->4->3->2->1' },
                    { input: '1->2', output: '2->1' }
                ],
                starterCode: `function reverseList(head) {
    // Write your code here
    
}`
            }
        };

        // Initialize
        let currentFilter = 'all';
        let userProgress = {};

        function renderPods() {
            const grid = document.getElementById('podsGrid');
            grid.innerHTML = '';

            Object.keys(podsData).forEach(category => {
                if (currentFilter === 'all' || currentFilter === category) {
                    podsData[category].forEach(pod => {
                        const card = createPodCard(pod, category);
                        grid.appendChild(card);
                    });
                }
            });
        }

        function createPodCard(pod, category) {
            const card = document.createElement('div');
            card.className = 'pod-card';
            card.onclick = () => openPodModal(pod, category);

            const badgeClass = `badge-${category}`;
            const badgeText = category.charAt(0).toUpperCase() + category.slice(1);

            card.innerHTML = `
                <span class="pod-badge ${badgeClass}">${badgeText}</span>
                <div class="pod-header">
                    <span class="pod-icon-large">ðŸŽ¯</span>
                    <h3>${pod.name}</h3>
                </div>
                <p>${pod.description}</p>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${pod.progress}%"></div>
                </div>
                <button class="btn btn-primary">Explore - ${pod.progress}% Complete</button>
            `;

            return card;
        }

        function openPodModal(pod, category) {
            const modal = document.getElementById('podModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');

            modalTitle.textContent = pod.name;

            let learningPathHTML = '<div class="learning-path"><h4>ðŸ“š Learning Roadmap</h4>';

            pod.learningMap.forEach((item, index) => {
                const statusClass = item.completed ? 'completed' : '';
                const statusBadge = item.completed 
                    ? '<span class="status-badge status-completed">âœ“ Completed</span>'
                    : '<span class="status-badge status-pending">â³ Pending</span>';

                learningPathHTML += `
                    <div class="learning-item ${statusClass}">
                        <div class="learning-item-header">
                            <h5>${index + 1}. ${item.title}</h5>
                            ${statusBadge}
                        </div>
                        <p>â±ï¸ Duration: ${item.duration}</p>
                        ${item.videoId ? `
                            <div class="video-container">
                                <div class="video-embed">
                                    <iframe 
                                        src="https://www.youtube.com/embed/${item.videoId}" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen>
                                    </iframe>
                                </div>
                            </div>
                        ` : ''}
                        <div class="action-buttons">
                            ${!item.completed ? `
                                <button class="btn btn-success btn-sm" onclick="markComplete('${pod.id}', ${index})">
                                    Mark as Complete
                                </button>
                            ` : ''}
                            <button class="btn btn-secondary btn-sm" onclick="window.open('https://youtube.com/watch?v=${item.videoId}', '_blank')">
                                Watch on YouTube
                            </button>
                        </div>
                    </div>
                `;
            });

            learningPathHTML += '</div>';

            // Add Challenge Section for Company Pods
            if (category === 'company' && pod.company) {
                learningPathHTML += `
                    <div class="challenge-section">
                        <button class="challenge-btn aptitude" onclick="startAptitudeTest('${pod.id}')">
                            ðŸ“Š Aptitude Test
                        </button>
                        <button class="challenge-btn coding" onclick="startCodingChallenge('${pod.id}')">
                            ðŸ’» Coding Challenge
                        </button>
                    </div>
                    <div id="challengeContainer"></div>
                `;
            }

            // Add Assessment Section for Skill Pods
            if (assessmentQuestions[pod.id]) {
                learningPathHTML += `
                    <div class="assessment-section">
                        <h4>ðŸ“ Knowledge Assessment</h4>
                        <p>Test your understanding of ${pod.name}</p>
                        <div id="quizContainer"></div>
                        <button class="btn btn-primary" onclick="startAssessment('${pod.id}')">Start Assessment</button>
                    </div>
                `;
            }

            modalBody.innerHTML = learningPathHTML;
            modal.style.display = 'block';
        }

        async function markComplete(podId, itemIndex) {
            try {
                // Find and update the pod
                for (let category in podsData) {
                    const pod = podsData[category].find(p => p.id === podId);
                    if (pod) {
                        // Update progress on server
                        const response = await fetchWithAuth('/api/pods/progress', {
                            method: 'POST',
                            body: JSON.stringify({
                                pod_id: podId,
                                item_index: itemIndex,
                                completed: true
                            })
                        });

                        if (!response.ok) {
                            throw new Error('Failed to update progress');
                        }

                        pod.learningMap[itemIndex].completed = true;
                        
                        // Recalculate progress
                        const completed = pod.learningMap.filter(item => item.completed).length;
                        pod.progress = Math.round((completed / pod.learningMap.length) * 100);
                        
                        // Refresh the modal and grid
                        renderPods();
                        openPodModal(pod, category);
                        alert('Congratulations! Module marked as complete!');
                        break;
                    }
                }
            } catch (error) {
                console.error('Error updating progress:', error);
                alert('Failed to update progress. Please try again.');
            }
        }

        function startAssessment(podId) {
            const questions = assessmentQuestions[podId];
            if (!questions) return;

            const quizContainer = document.getElementById('quizContainer');
            let quizHTML = '';

            questions.forEach((q, qIndex) => {
                quizHTML += `
                    <div class="quiz-question" id="question-${qIndex}">
                        <h5>Question ${qIndex + 1}: ${q.question}</h5>
                        <div class="quiz-options">
                            ${q.options.map((option, oIndex) => `
                                <div class="quiz-option" onclick="selectOption(${qIndex}, ${oIndex}, ${q.correct})">
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            quizHTML += '<button class="btn btn-primary" onclick="submitAssessment(\'' + podId + '\')">Submit Assessment</button>';
            quizContainer.innerHTML = quizHTML;
        }

        let selectedAnswers = {};

        function selectOption(questionIndex, optionIndex, correctIndex) {
            selectedAnswers[questionIndex] = optionIndex;
            
            // Remove previous selection
            const questionDiv = document.getElementById(`question-${questionIndex}`);
            const options = questionDiv.querySelectorAll('.quiz-option');
            options.forEach(opt => opt.classList.remove('selected'));
            
            // Mark selected
            options[optionIndex].classList.add('selected');
        }

        async function submitAssessment(podId) {
            const questions = assessmentQuestions[podId];
            const answers = [];
            
            // Format answers for API
            Object.keys(selectedAnswers).forEach(qIndex => {
                answers.push({
                    question_id: questions[qIndex].id,
                    selected_option: selectedAnswers[qIndex]
                });
            });

            try {
                const response = await fetchWithAuth('/api/assessment/skill/submit', {
                    method: 'POST',
                    body: JSON.stringify({
                        category: podId,
                        answers: answers
                    })
                });

                if (!response.ok) {
                    throw new Error('Assessment submission failed');
                }

                const result = await response.json();
                
                // Show results
                questions.forEach((q, qIndex) => {
                    const questionDiv = document.getElementById(`question-${qIndex}`);
                    const options = questionDiv.querySelectorAll('.quiz-option');
                    
                    options.forEach((opt, oIndex) => {
                        if (oIndex === q.correct) {
                            opt.classList.add('correct');
                        } else if (selectedAnswers[qIndex] === oIndex) {
                            opt.classList.add('incorrect');
                        }
                    });
                });

                // Update progress
                setTimeout(() => {
                    alert(`Assessment Complete!\n\nYour Score: ${result.score}%\n\n${result.message}`);
                    // Update pod progress if score is higher
                    for (let category in podsData) {
                        const pod = podsData[category].find(p => p.id === podId);
                        if (pod) {
                            pod.progress = Math.max(pod.progress, Math.round(result.score));
                            renderPods();
                            break;
                        }
                    }
                }, 500);

            selectedAnswers = {};
        }

        // Aptitude Test
        function startAptitudeTest(podId) {
            const questions = aptitudeQuestions[podId];
            if (!questions) {
                alert('Aptitude test not available for this company yet.');
                return;
            }

            const container = document.getElementById('challengeContainer');
            let html = '<div class="assessment-section">';
            html += '<h4>ðŸ“Š Aptitude Test</h4>';
            html += '<p>Test your quantitative and logical reasoning skills</p>';
            html += '<div class="timer">â±ï¸ Time: 30:00</div>';

            questions.forEach((q, qIndex) => {
                html += `
                    <div class="quiz-question" id="apt-question-${qIndex}">
                        <h5>Question ${qIndex + 1}: ${q.question}</h5>
                        <div class="quiz-options">
                            ${q.options.map((option, oIndex) => `
                                <div class="quiz-option" onclick="selectAptitudeOption(${qIndex}, ${oIndex}, ${q.correct})">
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            html += '<button class="btn btn-primary" onclick="submitAptitudeTest(\'' + podId + '\')">Submit Test</button>';
            html += '</div>';

            container.innerHTML = html;
            startTimer(30 * 60);
        }

        let aptitudeAnswers = {};

        function selectAptitudeOption(questionIndex, optionIndex, correctIndex) {
            aptitudeAnswers[questionIndex] = optionIndex;
            
            const questionDiv = document.getElementById(`apt-question-${questionIndex}`);
            const options = questionDiv.querySelectorAll('.quiz-option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
        }

        function submitAptitudeTest(podId) {
            const questions = aptitudeQuestions[podId];
            let score = 0;

            questions.forEach((q, qIndex) => {
                const questionDiv = document.getElementById(`apt-question-${qIndex}`);
                const options = questionDiv.querySelectorAll('.quiz-option');
                
                options.forEach((opt, oIndex) => {
                    if (oIndex === q.correct) {
                        opt.classList.add('correct');
                    } else if (aptitudeAnswers[qIndex] === oIndex) {
                        opt.classList.add('incorrect');
                    }
                });

                if (aptitudeAnswers[qIndex] === q.correct) {
                    score++;
                }
            });

            const percentage = Math.round((score / questions.length) * 100);
            setTimeout(() => {
                alert(`Aptitude Test Complete!\n\nYour Score: ${score}/${questions.length} (${percentage}%)\n\n${percentage >= 60 ? 'ðŸŽ‰ Great job! You qualify for the next round!' : 'ðŸ“š Keep practicing and try again!'}`);
            }, 500);

            aptitudeAnswers = {};
        }

        // Coding Challenge
        function startCodingChallenge(podId) {
            const challenge = codingChallenges[podId];
            if (!challenge) {
                alert('Coding challenge not available for this company yet.');
                return;
            }

            const container = document.getElementById('challengeContainer');
            let html = '<div class="assessment-section">';
            html += '<h4>ðŸ’» Coding Challenge</h4>';
            html += `<div class="timer">â±ï¸ Time Limit: ${challenge.timeLimit}</div>`;
            
            html += '<div class="coding-problem">';
            html += `<h5>${challenge.title} <span style="color: ${challenge.difficulty === 'Easy' ? '#4caf50' : '#ff9800'};">[${challenge.difficulty}]</span></h5>`;
            html += `<p>${challenge.description}</p>`;
            html += `<pre>${challenge.problem}</pre>`;
            html += '<div class="test-cases"><strong>Test Cases:</strong>';
            challenge.testCases.forEach((tc, idx) => {
                html += `
                    <div class="test-case">
                        <strong>Test Case ${idx + 1}:</strong><br>
                        Input: ${tc.input}<br>
                        Expected Output: ${tc.output}
                    </div>
                `;
            });
            html += '</div></div>';

            html += '<h5>Your Solution:</h5>';
            html += `<textarea class="code-input" id="codeInput" placeholder="Write your code here...">${challenge.starterCode}</textarea>`;
            html += '<button class="btn btn-primary" onclick="runCode(\'' + podId + '\')">Run Code</button>';
            html += '<button class="btn btn-success" style="margin-left: 10px;" onclick="submitCode(\'' + podId + '\')">Submit Solution</button>';
            html += '<div id="codeResult"></div>';
            html += '</div>';

            container.innerHTML = html;
            
            const timeInMinutes = parseInt(challenge.timeLimit);
            startTimer(timeInMinutes * 60);
        }

        function runCode(podId) {
            const code = document.getElementById('codeInput').value;
            const resultDiv = document.getElementById('codeResult');
            
            resultDiv.innerHTML = `
                <div class="result-panel">
                    <strong>âœ“ Code Executed Successfully!</strong><br>
                    <p>Running test cases...</p>
                    <p>Test Case 1: âœ“ Passed</p>
                    <p>Test Case 2: âœ“ Passed</p>
                    <p><em>Note: This is a simulation. In a real environment, your code would be executed against all test cases.</em></p>
                </div>
            `;
        }

        function submitCode(podId) {
            const code = document.getElementById('codeInput').value;
            
            if (code.trim().length < 50) {
                alert('Please write a complete solution before submitting!');
                return;
            }

            const resultDiv = document.getElementById('codeResult');
            resultDiv.innerHTML = `
                <div class="result-panel">
                    <strong>ðŸŽ‰ Solution Submitted Successfully!</strong><br>
                    <p>All test cases passed!</p>
                    <p>Time Complexity: O(n)</p>
                    <p>Space Complexity: O(1)</p>
                    <p><strong>Status:</strong> Accepted âœ“</p>
                    <p>Great job! You can now move to the next challenge or the HR round.</p>
                </div>
            `;

            setTimeout(() => {
                alert('Congratulations! ðŸŽ‰\n\nYour solution has been accepted!\nYou are ready for the next round of interviews.');
            }, 1000);
        }

        let timerInterval;
        function startTimer(seconds) {
            clearInterval(timerInterval);
            let timeLeft = seconds;
            
            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const secs = timeLeft % 60;
                
                const timerElements = document.querySelectorAll('.timer');
                timerElements.forEach(el => {
                    el.textContent = `â±ï¸ Time: ${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                });

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert('Time is up!');
                }
            }, 1000);
        }

        // Filter tabs
        document.querySelectorAll('.filter-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                currentFilter = this.dataset.filter;
                renderPods();
            });
        });

        // Modal close
        document.querySelector('.close').onclick = function() {
            document.getElementById('podModal').style.display = 'none';
        };

        window.onclick = function(event) {
            const modal = document.getElementById('podModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        };

        // Authentication check
        function checkAuth() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/login';
                return;
            }
            return token;
        }

        // Logout
        document.getElementById('logoutLink').addEventListener('click', function(e) {
            e.preventDefault();
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('token');
                window.location.href = '/login';
            }
        });

        // Check authentication on page load
        checkAuth();

        // Add token to all fetch requests
        function fetchWithAuth(url, options = {}) {
            const token = localStorage.getItem('token');
            return fetch(url, {
                ...options,
                headers: {
                    ...options.headers,
                    'Authorization': `Bearer ${token}`,
                    'Content-Type': 'application/json'
                }
            });
        }

        // Handle API errors
        function handleApiError(response) {
            if (response.status === 401) {
                localStorage.removeItem('token');
                window.location.href = '/login';
                return;
            }
            throw new Error(`API Error: ${response.status}`);
        }

        // Initial render
        renderPods();
    </script>
</body>
</html>